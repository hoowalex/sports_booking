{% extends 'base.html' %}

{% block content %}
<div class="py-2">
    <div class="row align-items-center mb-5 pb-4">
        <div class="col-lg-7">
            <h1 class="display-4 fw-bold mb-3" style="letter-spacing: -2px; line-height: 1.1;">
                –ü—Ä–æ—Å—Ç—ñ—Ä –¥–ª—è –≤–∞—à–∏—Ö <span style="color: var(--text-muted);">—Å–ø–æ—Ä—Ç–∏–≤–Ω–∏—Ö –ø–µ—Ä–µ–º–æ–≥</span>
            </h1>
            <p class="lead text-muted mb-4" style="max-width: 500px;">
                –ë—Ä–æ–Ω—é–π—Ç–µ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –∑–∞ –ª—ñ—á–µ–Ω—ñ —Å–µ–∫—É–Ω–¥–∏. –ê–∫—Ç—É–∞–ª—å–Ω–∏–π —Ä–æ–∑–∫–ª–∞–¥, –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ —Ç—Ä–µ–Ω–µ—Ä–∏ —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—ñ–ª—å–Ω–∏—Ö –º—ñ—Å—Ü—å –≤ –æ–¥–Ω–æ–º—É –¥–æ–¥–∞—Ç–∫—É.
            </p>

            {% if user.is_authenticated %}
                <div class="d-flex gap-3">
                    <a href="{% url 'trainings' %}" class="btn-custom py-3 px-5 text-decoration-none shadow-sm d-inline-block">
                        –ü–µ—Ä–µ–π—Ç–∏ –¥–æ —Ä–æ–∑–∫–ª–∞–¥—É
                    </a>
                </div>
            {% else %}
                <div class="d-flex gap-3">
                    <a href="{% url 'login' %}" class="btn-custom py-3 px-5 text-decoration-none shadow-sm">
                        –†–æ–∑–ø–æ—á–∞—Ç–∏
                    </a>
                    <a href="#features" class="btn btn-outline py-3 px-4 shadow-sm border-secondary-subtle text-decoration-none border">
                        –î—ñ–∑–Ω–∞—Ç–∏—Å—å –±—ñ–ª—å—à–µ
                    </a>
                </div>
            {% endif %}
        </div>

        <div class="col-lg-5 d-none d-lg-block text-end">
            <div class="bg-light rounded-4 p-5 d-inline-block" style="border: 1px solid var(--border-color); background: linear-gradient(135deg, #ffffff 0%, #f1f3f5 100%);">
                <div class="text-center p-3">
                    <div class="display-1 mb-3">‚ö°</div>
                    <div class="fw-bold h5 mb-0">SportBooking</div>
                    <div class="text-muted small">–í–∞—à –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∏–π –∑–∞–ø–∏—Å</div>
                </div>
            </div>
        </div>
    </div>

    <div id="features" class="row g-4 py-5 border-top border-bottom mb-5">
        <div class="col-md-4">
            <div class="h-100 p-4 rounded-4 border-0 bg-light shadow-sm">
                <div class="mb-3 text-dark h3">üìÖ</div>
                <h5 class="fw-bold">–ì–Ω—É—á–∫–∏–π –≥—Ä–∞—Ñ—ñ–∫</h5>
                <p class="small text-muted mb-0">–í—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞–Ω—è—Ç—Ç—è —è–∫ –Ω–∞ –¥–æ–ª–æ–Ω—ñ. –û–±–∏—Ä–∞–π—Ç–µ –∑—Ä—É—á–Ω–∏–π —á–∞—Å —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="h-100 p-4 rounded-4 border-0 bg-light shadow-sm">
                <div class="mb-3 text-dark h3">üõë</div>
                <h5 class="fw-bold">–õ—ñ–º—ñ—Ç —É—á–∞—Å–Ω–∏–∫—ñ–≤</h5>
                <p class="small text-muted mb-0">–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª—é—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ—Å—Ü—å. –ñ–æ–¥–Ω–∏—Ö –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–∏—Ö –∑–∞–ª—ñ–≤.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="h-100 p-4 rounded-4 border-0 bg-light shadow-sm">
                <div class="mb-3 text-dark h3">üë§</div>
                <h5 class="fw-bold">–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</h5>
                <p class="small text-muted mb-0">–ö–µ—Ä—É–π—Ç–µ –∑–∞–ø–∏—Å–∞–º–∏ —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ —ñ—Å—Ç–æ—Ä—ñ—é –≤—ñ–¥–≤—ñ–¥–∞–Ω–∏—Ö –∑–∞–Ω—è—Ç—å —É –ø—Ä–æ—Ñ—ñ–ª—ñ.</p>
            </div>
        </div>
    </div>

    <div class="py-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h3 class="fw-bold m-0" style="letter-spacing: -1px;">–ù–∞–π–±–ª–∏–∂—á—ñ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è</h3>
            <a href="{% url 'trainings' %}" class="text-muted small fw-bold text-decoration-none">–î–∏–≤–∏—Ç–∏—Å—è –≤—Å—ñ ‚Üí</a>
        </div>

        <div class="row">
            {% for t in recent_trainings|slice:":3" %}
                <div class="col-md-4 mb-3">
                    <div class="p-3 border rounded-3 bg-white h-100 shadow-sm hover-shadow transition">
                        <h6 class="fw-bold mb-1">{{ t.title }}</h6>
                        <div class="text-muted small mb-2">üìÖ {{ t.date|date:"d.m" }} –æ {{ t.date|date:"H:i" }}</div>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="small text-muted">üë• {{ t.participants.count }}/{{ t.max_participants }}</span>
                            <a href="{% url 'trainings' %}" class="btn btn-sm btn-outline-dark py-1 px-3 border" style="font-size: 0.75rem;">–î–µ—Ç–∞–ª—ñ</a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <div class="col-12 text-center py-4 bg-light rounded-3 border">
                    <p class="text-muted mb-0 small">–ù–∞ –Ω–∞–π–±–ª–∏–∂—á–∏–π —á–∞—Å –∑–∞–Ω—è—Ç—å –Ω–µ –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–æ.</p>
                </div>
            {% endfor %}
        </div>
    </div>

    {% if not user.is_authenticated %}
    <div class="mt-5 p-5 rounded-4 text-center border bg-dark text-white shadow-lg">
        <h4 class="fw-bold mb-3">–ì–æ—Ç–æ–≤—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–∏?</h4>
        <p class="text-white-50 mb-4">–°—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç —Ç–∞ –æ—Ç—Ä–∏–º–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —Ç—Ä–µ–Ω—É–≤–∞–Ω—å.</p>
        <a href="{% url 'login' %}" class="btn btn-light py-2 px-5 fw-bold text-decoration-none" style="border-radius: 8px;">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a>
    </div>
    {% endif %}
</div>

<style>
    /* –õ–µ–≥–∫–∏–π –µ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ –Ω–∞ –∫–∞—Ä—Ç–∫–∏ –∑–∞–Ω—è—Ç—å */
    .transition { transition: all 0.3s ease; }
    .hover-shadow:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.05) !important;
    }
</style>
{% endblock %}